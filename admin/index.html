<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - PrismaTech</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/admin-styles.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">PT</div>
                <div class="logo-text">Administración</div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    
                </a>
                <a href="#" class="nav-item" data-page="products">
                    <i class="fas fa-box"></i>
                    Productos
                </a>
                <a href="#" class="nav-item" data-page="categories">
                    <i class="fas fa-tags"></i>
                    Categorías
                </a>
                <a href="#" class="nav-item" data-page="inventory">
                    <i class="fas fa-warehouse"></i>
                    Inventario
                </a>
                <a href="#" class="nav-item" data-page="sales">
                    <i class="fas fa-shopping-cart"></i>
                    Ventas/Cotizaciones
                </a>
                <a href="#" class="nav-item" data-page="customers">
                    <i class="fas fa-users"></i>
                    Clientes
                </a>
                <a href="#" class="nav-item" data-page="reports">
                    <i class="fas fa-chart-bar"></i>
                    Reportes
                </a>
                <a href="#" class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    Configuración
                </a>
                <a href="../index.html" class="nav-item">
                    <i class="fas fa-globe"></i>
                    Ver Sitio Web
                </a>
                <a href="#" class="nav-item" onclick="adminManager.logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Cerrar Sesión
                </a>
            </nav>
        </aside>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" onclick="adminManager.toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div class="page-content active" id="dashboard-page">
                <div class="page-header">
                    <h1 class="page-title">Dashboard</h1>
                    <div class="header-actions">
                        <span class="user-info">
                            <i class="fas fa-user-circle"></i> Admin
                        </span>
                        <span class="text-muted" id="current-date"></span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-box"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-products">0</div>
                            <div class="stat-label">Productos Publicados</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-tags"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-categories">0</div>
                            <div class="stat-label">Categorías</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-file-invoice"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-quotes">0</div>
                            <div class="stat-label">Cotizaciones</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-customers">0</div>
                            <div class="stat-label">Clientes</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card">
                        <h3>Accesos Rápidos</h3>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="adminManager.showPage('products'); adminManager.openProductModal()">
                                <i class="fas fa-plus"></i> Agregar Producto
                            </button>
                            <button class="btn btn-secondary" onclick="adminManager.showPage('sales'); adminManager.openSaleModal()">
                                <i class="fas fa-file-invoice"></i> Nueva Cotización
                            </button>
                            <button class="btn btn-secondary" onclick="adminManager.showPage('inventory')">
                                <i class="fas fa-warehouse"></i> Ver Inventario
                            </button>
                            <button class="btn btn-secondary" onclick="adminManager.exportData()">
                                <i class="fas fa-download"></i> Exportar Datos
                            </button>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Actividad Reciente</h3>
                        <div id="recent-activity" class="activity-list">
                            <!-- Activity items will be loaded here -->
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Productos con Bajo Stock</h3>
                    <div id="low-stock-products">
                        <!-- Low stock items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Products Page -->
            <div class="page-content" id="products-page">
                <div class="page-header">
                    <h1 class="page-title">Gestión de Productos</h1>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="adminManager.importProducts()">
                            <i class="fas fa-upload"></i> Importar
                        </button>
                        <button class="btn btn-primary" onclick="adminManager.openProductModal()">
                            <i class="fas fa-plus"></i> Nuevo Producto
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Buscar productos..." id="products-search">
                    </div>
                    <select class="filter-select" id="products-category-filter">
                        <option value="">Todas las categorías</option>
                    </select>
                    <select class="filter-select" id="products-status-filter">
                        <option value="">Todos los estados</option>
                        <option value="active">Activo</option>
                        <option value="inactive">Inactivo</option>
                        <option value="out_of_stock">Sin Stock</option>
                    </select>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3 class="table-title">Lista de Productos</h3>
                        <div class="table-actions">
                            <span id="products-count">0 productos</span>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>Categoría</th>
                                    <th>SKU</th>
                                    <th>Stock</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="products-table">
                                <!-- Products will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Categories Page -->
            <div class="page-content" id="categories-page">
                <div class="page-header">
                    <h1 class="page-title">Gestión de Categorías</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="adminManager.openCategoryModal()">
                            <i class="fas fa-plus"></i> Nueva Categoría
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3 class="table-title">Lista de Categorías</h3>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Descripción</th>
                                    <th>Productos</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="categories-table">
                                <!-- Categories will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Inventory Page -->
            <div class="page-content" id="inventory-page">
                <div class="page-header">
                    <h1 class="page-title">Gestión de Inventario</h1>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="adminManager.adjustInventory()">
                            <i class="fas fa-edit"></i> Ajustar Stock
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Buscar en inventario..." id="inventory-search">
                    </div>
                    <select class="filter-select" id="inventory-filter">
                        <option value="">Todos</option>
                        <option value="low">Stock Bajo</option>
                        <option value="out">Sin Stock</option>
                        <option value="available">Disponible</option>
                    </select>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3 class="table-title">Control de Inventario</h3>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>SKU</th>
                                    <th>Stock Actual</th>
                                    <th>Stock Mínimo</th>
                                    <th>Ubicación</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="inventory-table">
                                <!-- Inventory will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sales Page -->
            <div class="page-content" id="sales-page">
                <div class="page-header">
                    <h1 class="page-title">Ventas y Cotizaciones</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="adminManager.openSaleModal()">
                            <i class="fas fa-plus"></i> Nueva Venta/Cotización
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Buscar por cliente o producto..." id="sales-search">
                    </div>
                    <input type="date" class="filter-select" id="sales-date-from">
                    <input type="date" class="filter-select" id="sales-date-to">
                    <select class="filter-select" id="sales-status-filter">
                        <option value="">Todos los estados</option>
                        <option value="cotizacion">Cotización</option>
                        <option value="vendido">Vendido</option>
                        <option value="entregado">Entregado</option>
                        <option value="cancelado">Cancelado</option>
                    </select>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3 class="table-title">Registro de Ventas</h3>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Cliente</th>
                                    <th>Productos</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="sales-table">
                                <!-- Sales will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Customers Page -->
            <div class="page-content" id="customers-page">
                <div class="page-header">
                    <h1 class="page-title">Gestión de Clientes</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="adminManager.openCustomerModal()">
                            <i class="fas fa-plus"></i> Nuevo Cliente
                        </button>
                    </div>
                </div>

                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Buscar clientes..." id="customers-search">
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h3 class="table-title">Lista de Clientes</h3>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Teléfono</th>
                                    <th>Compras</th>
                                    <th>Última Compra</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="customers-table">
                                <!-- Customers will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reports Page -->
            <div class="page-content" id="reports-page">
                <div class="page-header">
                    <h1 class="page-title">Reportes</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="adminManager.generateReport()">
                            <i class="fas fa-file-pdf"></i> Generar Reporte
                        </button>
                    </div>
                </div>

                <div class="reports-grid">
                    <div class="card">
                        <h3>Ventas del Mes</h3>
                        <canvas id="sales-chart"></canvas>
                    </div>
                    <div class="card">
                        <h3>Productos Más Vendidos</h3>
                        <div id="top-products">
                            <!-- Top products will be loaded here -->
                        </div>
                    </div>
                    <div class="card">
                        <h3>Resumen Financiero</h3>
                        <div id="financial-summary">
                            <!-- Financial summary will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div class="page-content" id="settings-page">
                <div class="page-header">
                    <h1 class="page-title">Configuración</h1>
                </div>

                <div class="settings-grid">
                    <div class="card">
                        <h3>Información de la Empresa</h3>
                        <form id="company-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Nombre de la Empresa</label>
                                    <input type="text" class="form-control" id="company-name" value="PrismaTech">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">RFC</label>
                                    <input type="text" class="form-control" id="company-rfc">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Teléfono</label>
                                    <input type="text" class="form-control" id="company-phone" value="(238) 123-4567">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">WhatsApp</label>
                                    <input type="text" class="form-control" id="company-whatsapp" value="5212381234567">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="company-email" value="info@prismatech.mx">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Sitio Web</label>
                                    <input type="text" class="form-control" id="company-website" value="www.prismatech.mx">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Dirección</label>
                                <textarea class="form-control" id="company-address" rows="2">Teziutlán, Puebla, México</textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Guardar Cambios
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <h3>Configuración del Sistema</h3>
                        <form id="system-form">
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="checkbox" id="enable-notifications" checked>
                                    Habilitar notificaciones
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="checkbox" id="enable-stock-alerts" checked>
                                    Alertas de stock bajo
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Stock mínimo por defecto</label>
                                <input type="number" class="form-control" id="default-min-stock" value="5">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Moneda</label>
                                <select class="form-control" id="currency">
                                    <option value="MXN">MXN - Peso Mexicano</option>
                                    <option value="USD">USD - Dólar</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Guardar Configuración
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <h3>Respaldo y Restauración</h3>
                        <div class="backup-actions">
                            <button class="btn btn-secondary" onclick="adminManager.backupData()">
                                <i class="fas fa-download"></i> Crear Respaldo
                            </button>
                            <button class="btn btn-secondary" onclick="adminManager.restoreData()">
                                <i class="fas fa-upload"></i> Restaurar Datos
                            </button>
                            <button class="btn btn-danger" onclick="adminManager.resetData()">
                                <i class="fas fa-trash"></i> Restablecer Sistema
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modals-container"></div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/admin-data.js"></script>
    <script src="js/admin-ui.js"></script>
    <script src="js/admin-manager.js"></script>
    <script src="js/admin-init.js"></script>
</body>
</html>